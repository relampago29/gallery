(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{2423:(e,t,a)=>{Promise.resolve().then(a.bind(a,9432))},9432:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var i=a(5155),s=a(2115);function r(){let[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!1),[l,o]=(0,s.useState)(""),[n,c]=(0,s.useState)("");async function d(){let e=await fetch("/api/categories",{cache:"no-store"});t((await e.json()).items||[])}async function u(e){if(e.preventDefault(),!l.trim())return;r(!0);let t=await fetch("/api/categories/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.trim(),description:n.trim()||null})});r(!1),t.ok?(o(""),c(""),d()):alert("Falha ao criar categoria.")}async function h(e,t){r(!0);let a=await fetch("/api/categories/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,patch:{active:t}})});r(!1),a.ok?d():alert("Falha ao atualizar.")}async function x(e){if(!confirm("Apagar esta categoria?"))return;r(!0);let t=await fetch("/api/categories/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});r(!1),t.ok?d():alert("Falha ao apagar.")}(0,s.useEffect)(()=>{d()},[]);let m="rounded-3xl border border-white/10 bg-white/5 shadow-[0_25px_120px_rgba(0,0,0,0.45)] backdrop-blur-sm",p="w-full rounded-2xl border border-white/15 bg-white/10 px-4 py-2 text-white placeholder-white/60 focus:border-white/50 focus:outline-none";return(0,i.jsxs)("main",{className:"relative min-h-screen overflow-hidden bg-[#030303] text-gray-100",children:[(0,i.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.08),_transparent_60%)]"}),(0,i.jsx)("div",{className:"absolute -right-10 top-20 h-72 w-72 rounded-full bg-[#7c3aed1f] blur-3xl"}),(0,i.jsx)("div",{className:"absolute left-0 bottom-0 h-96 w-96 rounded-full bg-[#f472b61f] blur-3xl"})]}),(0,i.jsxs)("div",{className:"relative z-10 mx-auto max-w-5xl space-y-10 py-12 px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)("header",{className:"space-y-3",children:[(0,i.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:"Admin"}),(0,i.jsx)("h1",{className:"text-4xl font-semibold text-white tracking-tight",children:"Categorias"}),(0,i.jsx)("p",{className:"text-sm text-white/70",children:"Cria, ativa/desativa e organiza as categorias do portf\xf3lio."})]}),(0,i.jsx)("section",{className:m,children:(0,i.jsxs)("form",{onSubmit:u,className:"grid gap-4 p-6 sm:grid-cols-3",children:[(0,i.jsx)("input",{className:"".concat(p," sm:col-span-1"),placeholder:"Nome da categoria",value:l,onChange:e=>o(e.target.value),required:!0}),(0,i.jsx)("input",{className:"".concat(p," sm:col-span-1"),placeholder:"Descri\xe7\xe3o (opcional)",value:n,onChange:e=>c(e.target.value)}),(0,i.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-full bg-white text-gray-900 px-5 py-2 text-sm font-semibold transition hover:bg-white/90 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white"," sm:col-span-1"),disabled:a||!l.trim(),children:a?"A guardarâ€¦":"Criar categoria"})]})}),(0,i.jsxs)("section",{className:m,children:[(0,i.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 px-6 py-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:"Lista"}),(0,i.jsxs)("div",{className:"text-lg font-semibold text-white",children:[e.length," categorias"]})]}),(0,i.jsx)("div",{className:"text-xs text-white/50",children:"Atualiza ou remove categorias rapidamente"})]}),(0,i.jsx)("div",{className:"divide-y divide-white/10",children:0===e.length?(0,i.jsx)("div",{className:"p-6 text-center text-white/60",children:"Sem categorias ainda. Cria a primeira acima."}):e.map(e=>(0,i.jsxs)("div",{className:"flex flex-col gap-4 px-6 py-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-base font-medium text-white",children:e.name}),e.description?(0,i.jsx)("div",{className:"text-sm text-white/60",children:e.description}):null]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,i.jsx)("span",{className:"rounded-full px-3 py-1 text-xs font-semibold tracking-wide ".concat(e.active?"bg-emerald-500/20 text-emerald-200 border border-emerald-400/50":"border border-white/20 text-white/60"),children:e.active?"Ativa":"Inativa"}),(0,i.jsx)("button",{className:"rounded-full border border-white/30 px-4 py-1.5 text-sm text-white hover:bg-white/10 disabled:opacity-40 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white/50",onClick:()=>h(e.id,!e.active),disabled:a,children:e.active?"Desativar":"Ativar"}),(0,i.jsx)("button",{className:"rounded-full border border-red-400/70 px-4 py-1.5 text-sm text-red-200 hover:bg-red-500/10 disabled:opacity-40 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-300",onClick:()=>x(e.id),disabled:a,children:"Apagar"})]})]},e.id))})]})]})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=2423)),_N_E=e.O()}]);