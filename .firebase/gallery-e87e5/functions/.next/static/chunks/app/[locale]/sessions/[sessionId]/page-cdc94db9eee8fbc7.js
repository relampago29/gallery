(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{1183:(e,t,o)=>{"use strict";o.d(t,{DownloadAllButton:()=>n});var i=o(5155),s=o(2115);function n(e){let{sessionId:t,className:o}=e,[n,a]=(0,s.useState)(!1);async function l(){try{a(!0);let e=await fetch("/api/session-photos/download-all?sessionId=".concat(encodeURIComponent(t)));if(!e.ok){let t=await e.text();throw Error(t||"Falha ao gerar o download")}let o=await e.blob(),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download="".concat(t||"sessao",".zip"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}catch(e){alert((null==e?void 0:e.message)||"N\xe3o foi poss\xedvel transferir todas as fotos.")}finally{a(!1)}}return(0,i.jsx)("button",{type:"button",onClick:l,disabled:n,className:"inline-flex items-center justify-center rounded-full border border-white/30 px-4 py-1.5 text-sm text-white transition hover:bg-white/10 disabled:opacity-40 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-white/50 ".concat(o||""),children:n?"A prepararâ€¦":"Transferir todas"})}},5371:(e,t,o)=>{Promise.resolve().then(o.bind(o,1183))}},e=>{e.O(0,[441,964,358],()=>e(e.s=5371)),_N_E=e.O()}]);